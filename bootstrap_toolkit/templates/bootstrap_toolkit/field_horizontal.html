{% load bootstrap_toolkit %}

{% with field|bootstrap_input_type as input_type %}
{% with left_column_class|default:"col-2" as left_column_class %}
{% with right_column_class|default:"col-10" as right_column_class %}
{# TODO: Configurable column widths. #}
<div class="form-group{% if field.errors %} has-error{% endif %}{% if field.field.required %} required{% endif %}">
    <label class="{{ left_column_class }} control-label"{% if field.html_name %} for="{{ field.html_name }}"{% endif %}>{{ field.label }}</label>
    
    <div class="{{ right_column_class }}">
    {% if input_type == "checkbox" %}
        {% if field.field.widget.allow_multiple_selected %}
            {% include "bootstrap_toolkit/field_widget_choices.html" %}
        {% else %}
            {% include "bootstrap_toolkit/field_widget_checkbox.html" %}
        {% endif %}
    {% elif input_type == "radio" %}
        {% include "bootstrap_toolkit/field_widget_choices.html" %}
    {% elif input_type == "select" %}
        {% include "bootstrap_toolkit/field_widget_select.html" %}
    {% elif input_type == "textarea" %}
        {% include "bootstrap_toolkit/field_widget_textarea.html" %}
    {% else %}
        {% include "bootstrap_toolkit/field_widget_default.html" %}
    {% endif %}
    
    {% include "bootstrap_toolkit/field_help.html" %}
    {% include "bootstrap_toolkit/field_errors.html" %}
    </div>
</div>
{% endwith %}
{% endwith %}
{% endwith %}